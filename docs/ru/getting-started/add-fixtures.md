# Добавление фикстур

По мере роста ваших тестов вам, скорее всего, понадобятся [фикстуры](https://playwright.dev/docs/test-fixtures) Playwright. Это означает, что вы будете использовать пользовательский экземпляр `test`, созданный с помощью `test.extend()`. Для таких случаев вы должны передать пользовательский экземпляр test в функцию `createBdd()`, чтобы иметь доступ ко всем вашим фикстурам внутри определений шагов.

### Рекомендуемая настройка

Вызовите `createBdd(test)` в том же файле, где вы определяете пользовательский test, и экспортируйте `test` и `Given / When / Then`:

```ts
// fixtures.ts
import { test as base, createBdd } from 'playwright-bdd';

type Fixtures = {
  // ...установите типы ваших пользовательских фикстур
};

export const test = base.extend<Fixtures>({
  // ...реализуйте ваши пользовательские фикстуры
});

export const { Given, When, Then } = createBdd(test);
```

> Убедитесь, что вы экспортируете переменную `test`, потому что она используется в сгенерированных тестовых файлах.

Теперь вы можете писать определения шагов с пользовательскими фикстурами:

```ts
// steps.ts

import { Given, When, Then } from './fixtures';

Given('My step', async ({ myFixture }) => {
  // ...код шага, который использует myFixture
});
```
